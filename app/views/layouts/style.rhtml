<html>
<head>
  <title>
  <% if controller.action_name =~ /customize/ %>
  Customize Styles
  <% end %>
  </title>
  <%= javascript_include_tag "prototype" %>
  <%= render_component(:controller => 'style', :action => 'style_links') %>
  <script type="text/javascript" src="http://playground.pele.cx/includes/styleswitcher.js"></script>
	<title>Customize styles for <%= session[:username] %> </title>
	<%= javascript_include_tag "prototype" %>
	<script type="text/javascript">
		function insertStyle(element) {
			var style ='<div id="edit_'+element+'_div">\n';
			style +='<p>\n';
			style +='<form action="/style/save_style" method="post" onsubmit="new Ajax.Updater(\'edit_'+element+'_div\', \'/style/save_style\', {asynchronous:true, evalScripts:true, parameters:Form.serialize(this)});  return false;">\n';
			style +='Element: \n';
			style +='<input type="text" id="edit_style_element" name="element" value="'+element+'"> \n';
			style +='Style: \n';
			style +='<input type="text" id="edit_style_definition" name="definition"> \n';
			style +='<input name="commit" type="submit" value="Save element" onClick="Element.remove(' + "'save result'"+')"/>\n'
			style +='</form>\n';
			style +='</p>\n';
			style +='</div>\n';
			return style;
		}
	</script>

</head>
<body>
<%= render_component(:controller => 'php_session', :action => 'has_session') %>
<%= render_component(:controller => 'style', :action => 'style_dropdown') %>
<p><%= render :partial => "breadcrumbs" %></p>
<p style="color: red"><%= flash[:notice] %></p>

<%= @content_for_layout %>

</body>
</html>
